doctrine:
    dbal:
        # configure these for your database server
        driver: 'pdo_pgsql'
        charset: UTF8
        default_table_options:
            charset: UTF8
            collate: pl_PL.UTF-8

        url: '%env(resolve:DATABASE_URL)%'
        types:
            integer[]: MartinGeorgiev\Doctrine\DBAL\Types\IntegerArray
        mapping_types:
            integer[]: integer[]

    orm:
        auto_generate_proxy_classes: true
        naming_strategy: doctrine.orm.naming_strategy.underscore
        auto_mapping: true
        mappings:
            App:
                is_bundle: false
                type: annotation
                dir: '%kernel.project_dir%/src/Entity'
                prefix: 'App\Entity'
                alias: App

        dql:
            datetime_functions:
                DATE_TRUNC: App\DoctrineExtensions\DateTrunc
                TIME_MINUTE_SUM: App\DoctrineExtensions\TimeMinuteSum
                WEEKLY: App\DoctrineExtensions\Weekly
                ARRAY_AGG: App\DoctrineExtensions\ArrayAgg
            string_functions:
                        # operators for working with array and json(b) data
                CONTAINS: MartinGeorgiev\Doctrine\ORM\Query\AST\Functions\Contains
                IS_CONTAINED_BY: MartinGeorgiev\Doctrine\ORM\Query\AST\Functions\IsContainedBy
